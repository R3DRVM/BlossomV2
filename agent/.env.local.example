# Blossom Agent - Local Environment Template
# Copy this to .env.local and fill in your values
# DO NOT commit .env.local to git

# ============================================
# Execution Mode
# ============================================
EXECUTION_MODE=eth_testnet
EXECUTION_AUTH_MODE=session

# ============================================
# Access Gate (Whitelist Testing)
# ============================================
# Optional: Comma-separated access codes (or auto-generate 30 on startup)
WHITELIST_ACCESS_CODES=
# Required for admin endpoints (generating/revoking codes)
ADMIN_KEY=your_admin_key_here

# ============================================
# ETH Testnet Contracts (Sepolia)
# ============================================
# ExecutionRouter contract address
EXECUTION_ROUTER_ADDRESS=0x...
# Uniswap V3 Swap Adapter
UNISWAP_V3_ADAPTER_ADDRESS=0x...
# WETH Wrap Adapter (Route 2)
WETH_WRAP_ADAPTER_ADDRESS=0x...
# Token addresses
WETH_ADDRESS_SEPOLIA=0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14
USDC_ADDRESS_SEPOLIA=0x...

# ============================================
# RPC & Relayer (with Failover)
# ============================================
# PRIMARY RPC URL - Alchemy recommended (better rate limits)
# Sign up at https://alchemy.com for free API key
ETH_TESTNET_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# FALLBACK RPC URLs (optional, but recommended)
# The system will automatically failover on 429/rate-limit errors
# You can set individual providers OR a comma-separated list

# Option 1: Individual provider URLs (auto-collected as fallbacks)
ALCHEMY_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_KEY
INFURA_RPC_URL=https://sepolia.infura.io/v3/YOUR_KEY

# Option 2: Explicit comma-separated fallback list
# ETH_RPC_FALLBACK_URLS=https://sepolia.infura.io/v3/KEY1,https://rpc.sepolia.org

# NOTE: Public RPC (https://rpc.sepolia.org) is always added as last resort
# Failover order: Primary -> ETH_RPC_FALLBACK_URLS -> ALCHEMY -> INFURA -> Public

# Relayer wallet private key (must have Sepolia ETH for gas)
RELAYER_PRIVATE_KEY=0x...

# ============================================
# LLM Configuration
# ============================================
# Options: gemini, openai, anthropic, stub
BLOSSOM_MODEL_PROVIDER=gemini
# Gemini API key (required if provider=gemini)
BLOSSOM_GEMINI_API_KEY=<YOUR_GEMINI_API_KEY>
# OpenAI API key (required if provider=openai)
BLOSSOM_OPENAI_API_KEY=
# Anthropic API key (required if provider=anthropic)
BLOSSOM_ANTHROPIC_API_KEY=

# ============================================
# Server Configuration
# ============================================
# Backend port (default: 3001)
PORT=3001

# ============================================
# dFlow Integration (Intelligent Routing)
# ============================================
# Enable dFlow for routing and event markets
DFLOW_ENABLED=true
# dFlow API key (x-api-key auth header)
DFLOW_API_KEY=<YOUR_DFLOW_API_KEY>
# dFlow has TWO separate API endpoints:
DFLOW_QUOTE_API_URL=https://a.quote-api.dflow.net
DFLOW_PREDICTION_API_URL=https://prediction-markets-api.dflow.net
# Routing mode: 'dflow' uses dFlow, 'hybrid' uses 1inch, 'deterministic' uses fixed demo quotes
ROUTING_MODE=dflow

# ============================================
# Debug (Optional)
# ============================================
# Enable execution artifact logging
DEBUG_EXECUTIONS=1
